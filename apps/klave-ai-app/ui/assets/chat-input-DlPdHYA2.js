import{r as c,j as t,m as ht,n as mt,c as vt,f as V,D as xt,L as gt}from"./index-BYcoJFgG.js";import{B as L}from"./button-DaZc31o0.js";import{P as we,T as yt,a as bt,b as wt,c as Pt}from"./tooltip-D34qDGRE.js";import{k as Nt,a as _,d as I,c as Pe,m as Et,n as Ct,o as jt,s as At,p as kt,q as _t,r as Ot,t as Rt,v as St,w as Tt,j as G,b as Ft,u as Mt,h as Dt,g as Lt,f as It}from"./index-DL_SWt5J.js";import{a as $t,u as S}from"./index-OICOeeHB.js";import{c as C}from"./createLucideIcon-C-2ZzL6n.js";import{B as q,V as Ut}from"./video-CtCtvaKy.js";import{S as pe}from"./square-arrow-out-up-right-dxHGDBvv.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ht=C("arrow-up",zt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fe=C("chevron-left",Bt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],he=C("chevron-right",Wt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Vt=C("cpu",Kt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["rect",{width:"4",height:"6",x:"2",y:"12",rx:"2",key:"jm304g"}],["path",{d:"M10 12h2v6",key:"12zw74"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Yt=C("file-digit",qt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]],Zt=C("landmark",Xt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Y=C("lock",Gt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Jt=C("mic",Qt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],tr=C("paperclip",er);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nr=C("triangle-alert",rr);function Ne(e){const r=or(e),n=c.forwardRef((o,s)=>{const{children:a,...l}=o,i=c.Children.toArray(a),u=i.find(ar);if(u){const d=u.props.children,f=i.map(v=>v===u?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:v);return t.jsx(r,{...l,ref:s,children:c.isValidElement(d)?c.cloneElement(d,void 0,f):null})}return t.jsx(r,{...l,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function or(e){const r=c.forwardRef((n,o)=>{const{children:s,...a}=n;if(c.isValidElement(s)){const l=cr(s),i=ir(a,s.props);return s.type!==c.Fragment&&(i.ref=o?$t(o,l):l),c.cloneElement(s,i)}return c.Children.count(s)>1?c.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var sr=Symbol("radix.slottable");function ar(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sr}function ir(e,r){const n={...r};for(const o in r){const s=e[o],a=r[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...i)=>{const u=a(...i);return s(...i),u}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function cr(e){var o,s;let r=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A=lr.reduce((e,r)=>{const n=Ne(`Primitive.${r}`),o=c.forwardRef((s,a)=>{const{asChild:l,...i}=s,u=l?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(u,{...i,ref:a})});return o.displayName=`Primitive.${r}`,{...e,[r]:o}},{});function dr(e,r){e&&ht.flushSync(()=>e.dispatchEvent(r))}var ur="DismissableLayer",Q="dismissableLayer.update",pr="dismissableLayer.pointerDownOutside",fr="dismissableLayer.focusOutside",me,Ee=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ce=c.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:i,...u}=e,d=c.useContext(Ee),[f,v]=c.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=c.useState({}),N=S(r,y=>v(y)),p=Array.from(d.layers),[P]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),m=p.indexOf(P),b=f?p.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,g=b>=m,E=vr(y=>{const R=y.target,U=[...d.branches].some(M=>M.contains(R));!g||U||(s==null||s(y),l==null||l(y),y.defaultPrevented||i==null||i())},h),j=xr(y=>{const R=y.target;[...d.branches].some(M=>M.contains(R))||(a==null||a(y),l==null||l(y),y.defaultPrevented||i==null||i())},h);return Nt(y=>{b===d.layers.size-1&&(o==null||o(y),!y.defaultPrevented&&i&&(y.preventDefault(),i()))},h),c.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(me=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),ve(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=me)}},[f,h,n,d]),c.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),ve())},[f,d]),c.useEffect(()=>{const y=()=>x({});return document.addEventListener(Q,y),()=>document.removeEventListener(Q,y)},[]),t.jsx(A.div,{...u,ref:N,style:{pointerEvents:w?g?"auto":"none":void 0,...e.style},onFocusCapture:_(e.onFocusCapture,j.onFocusCapture),onBlurCapture:_(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:_(e.onPointerDownCapture,E.onPointerDownCapture)})});Ce.displayName=ur;var hr="DismissableLayerBranch",mr=c.forwardRef((e,r)=>{const n=c.useContext(Ee),o=c.useRef(null),s=S(r,o);return c.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),t.jsx(A.div,{...e,ref:s})});mr.displayName=hr;function vr(e,r=globalThis==null?void 0:globalThis.document){const n=I(e),o=c.useRef(!1),s=c.useRef(()=>{});return c.useEffect(()=>{const a=i=>{if(i.target&&!o.current){let u=function(){je(pr,n,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=u,r.addEventListener("click",s.current,{once:!0})):u()}else r.removeEventListener("click",s.current);o.current=!1},l=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",a),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>o.current=!0}}function xr(e,r=globalThis==null?void 0:globalThis.document){const n=I(e),o=c.useRef(!1);return c.useEffect(()=>{const s=a=>{a.target&&!o.current&&je(fr,n,{originalEvent:a},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ve(){const e=new CustomEvent(Q);document.dispatchEvent(e)}function je(e,r,n,{discrete:o}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),o?dr(s,a):s.dispatchEvent(a)}var X="focusScope.autoFocusOnMount",Z="focusScope.autoFocusOnUnmount",xe={bubbles:!1,cancelable:!0},gr="FocusScope",Ae=c.forwardRef((e,r)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=e,[i,u]=c.useState(null),d=I(s),f=I(a),v=c.useRef(null),h=S(r,p=>u(p)),x=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(o){let p=function(w){if(x.paused||!i)return;const g=w.target;i.contains(g)?v.current=g:k(v.current,{select:!0})},P=function(w){if(x.paused||!i)return;const g=w.relatedTarget;g!==null&&(i.contains(g)||k(v.current,{select:!0}))},m=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&k(i)};document.addEventListener("focusin",p),document.addEventListener("focusout",P);const b=new MutationObserver(m);return i&&b.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",P),b.disconnect()}}},[o,i,x.paused]),c.useEffect(()=>{if(i){ye.add(x);const p=document.activeElement;if(!i.contains(p)){const m=new CustomEvent(X,xe);i.addEventListener(X,d),i.dispatchEvent(m),m.defaultPrevented||(yr(Er(ke(i)),{select:!0}),document.activeElement===p&&k(i))}return()=>{i.removeEventListener(X,d),setTimeout(()=>{const m=new CustomEvent(Z,xe);i.addEventListener(Z,f),i.dispatchEvent(m),m.defaultPrevented||k(p??document.body,{select:!0}),i.removeEventListener(Z,f),ye.remove(x)},0)}}},[i,d,f,x]);const N=c.useCallback(p=>{if(!n&&!o||x.paused)return;const P=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,m=document.activeElement;if(P&&m){const b=p.currentTarget,[w,g]=br(b);w&&g?!p.shiftKey&&m===g?(p.preventDefault(),n&&k(w,{select:!0})):p.shiftKey&&m===w&&(p.preventDefault(),n&&k(g,{select:!0})):m===b&&p.preventDefault()}},[n,o,x.paused]);return t.jsx(A.div,{tabIndex:-1,...l,ref:h,onKeyDown:N})});Ae.displayName=gr;function yr(e,{select:r=!1}={}){const n=document.activeElement;for(const o of e)if(k(o,{select:r}),document.activeElement!==n)return}function br(e){const r=ke(e),n=ge(r,e),o=ge(r.reverse(),e);return[n,o]}function ke(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function ge(e,r){for(const n of e)if(!wr(n,{upTo:r}))return n}function wr(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pr(e){return e instanceof HTMLInputElement&&"select"in e}function k(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Pr(e)&&r&&e.select()}}var ye=Nr();function Nr(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=be(e,r),e.unshift(r)},remove(r){var n;e=be(e,r),(n=e[0])==null||n.resume()}}}function be(e,r){const n=[...e],o=n.indexOf(r);return o!==-1&&n.splice(o,1),n}function Er(e){return e.filter(r=>r.tagName!=="A")}var Cr="Arrow",_e=c.forwardRef((e,r)=>{const{children:n,width:o=10,height:s=5,...a}=e;return t.jsx(A.svg,{...a,ref:r,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});_e.displayName=Cr;var jr=_e,J="Popper",[Oe,Re]=Pe(J),[Ar,Se]=Oe(J),Te=e=>{const{__scopePopper:r,children:n}=e,[o,s]=c.useState(null);return t.jsx(Ar,{scope:r,anchor:o,onAnchorChange:s,children:n})};Te.displayName=J;var Fe="PopperAnchor",Me=c.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:o,...s}=e,a=Se(Fe,n),l=c.useRef(null),i=S(r,l);return c.useEffect(()=>{a.onAnchorChange((o==null?void 0:o.current)||l.current)}),o?null:t.jsx(A.div,{...s,ref:i})});Me.displayName=Fe;var ee="PopperContent",[kr,_r]=Oe(ee),De=c.forwardRef((e,r)=>{var se,ae,ie,ce,le,de;const{__scopePopper:n,side:o="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:i=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:v="partial",hideWhenDetached:h=!1,updatePositionStrategy:x="optimized",onPlaced:N,...p}=e,P=Se(ee,n),[m,b]=c.useState(null),w=S(r,D=>b(D)),[g,E]=c.useState(null),j=Et(g),y=(j==null?void 0:j.width)??0,R=(j==null?void 0:j.height)??0,U=o+(a!=="center"?"-"+a:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},re=Array.isArray(d)?d:[d],tt=re.length>0,z={padding:M,boundary:re.filter(Rr),altBoundary:tt},{refs:rt,floatingStyles:ne,placement:nt,isPositioned:H,middlewareData:T}=Ct({strategy:"fixed",placement:U,whileElementsMounted:(...D)=>Tt(...D,{animationFrame:x==="always"}),elements:{reference:P.anchor},middleware:[jt({mainAxis:s+R,alignmentAxis:l}),u&&At({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?St():void 0,...z}),u&&kt({...z}),_t({...z,apply:({elements:D,rects:ue,availableWidth:dt,availableHeight:ut})=>{const{width:pt,height:ft}=ue.reference,W=D.floating.style;W.setProperty("--radix-popper-available-width",`${dt}px`),W.setProperty("--radix-popper-available-height",`${ut}px`),W.setProperty("--radix-popper-anchor-width",`${pt}px`),W.setProperty("--radix-popper-anchor-height",`${ft}px`)}}),g&&Ot({element:g,padding:i}),Sr({arrowWidth:y,arrowHeight:R}),h&&Rt({strategy:"referenceHidden",...z})]}),[oe,ot]=$e(nt),B=I(N);G(()=>{H&&(B==null||B())},[H,B]);const st=(se=T.arrow)==null?void 0:se.x,at=(ae=T.arrow)==null?void 0:ae.y,it=((ie=T.arrow)==null?void 0:ie.centerOffset)!==0,[ct,lt]=c.useState();return G(()=>{m&&lt(window.getComputedStyle(m).zIndex)},[m]),t.jsx("div",{ref:rt.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:H?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ct,"--radix-popper-transform-origin":[(ce=T.transformOrigin)==null?void 0:ce.x,(le=T.transformOrigin)==null?void 0:le.y].join(" "),...((de=T.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(kr,{scope:n,placedSide:oe,onArrowChange:E,arrowX:st,arrowY:at,shouldHideArrow:it,children:t.jsx(A.div,{"data-side":oe,"data-align":ot,...p,ref:w,style:{...p.style,animation:H?void 0:"none"}})})})});De.displayName=ee;var Le="PopperArrow",Or={top:"bottom",right:"left",bottom:"top",left:"right"},Ie=c.forwardRef(function(r,n){const{__scopePopper:o,...s}=r,a=_r(Le,o),l=Or[a.placedSide];return t.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:t.jsx(jr,{...s,ref:n,style:{...s.style,display:"block"}})})});Ie.displayName=Le;function Rr(e){return e!==null}var Sr=e=>({name:"transformOrigin",options:e,fn(r){var P,m,b;const{placement:n,rects:o,middlewareData:s}=r,l=((P=s.arrow)==null?void 0:P.centerOffset)!==0,i=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[d,f]=$e(n),v={start:"0%",center:"50%",end:"100%"}[f],h=(((m=s.arrow)==null?void 0:m.x)??0)+i/2,x=(((b=s.arrow)==null?void 0:b.y)??0)+u/2;let N="",p="";return d==="bottom"?(N=l?v:`${h}px`,p=`${-u}px`):d==="top"?(N=l?v:`${h}px`,p=`${o.floating.height+u}px`):d==="right"?(N=`${-u}px`,p=l?v:`${x}px`):d==="left"&&(N=`${o.floating.width+u}px`,p=l?v:`${x}px`),{data:{x:N,y:p}}}});function $e(e){const[r,n="center"]=e.split("-");return[r,n]}var Tr=Te,Ue=Me,Fr=De,Mr=Ie,Dr="Portal",ze=c.forwardRef((e,r)=>{var i;const{container:n,...o}=e,[s,a]=c.useState(!1);G(()=>a(!0),[]);const l=n||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return l?mt.createPortal(t.jsx(A.div,{...o,ref:r}),l):null});ze.displayName=Dr;var K="Popover",[He,an]=Pe(K,[Re]),$=Re(),[Lr,O]=He(K),Be=e=>{const{__scopePopover:r,children:n,open:o,defaultOpen:s,onOpenChange:a,modal:l=!1}=e,i=$(r),u=c.useRef(null),[d,f]=c.useState(!1),[v,h]=Ft({prop:o,defaultProp:s??!1,onChange:a,caller:K});return t.jsx(Tr,{...i,children:t.jsx(Lr,{scope:r,contentId:Mt(),triggerRef:u,open:v,onOpenChange:h,onOpenToggle:c.useCallback(()=>h(x=>!x),[h]),hasCustomAnchor:d,onCustomAnchorAdd:c.useCallback(()=>f(!0),[]),onCustomAnchorRemove:c.useCallback(()=>f(!1),[]),modal:l,children:n})})};Be.displayName=K;var We="PopoverAnchor",Ir=c.forwardRef((e,r)=>{const{__scopePopover:n,...o}=e,s=O(We,n),a=$(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=s;return c.useEffect(()=>(l(),()=>i()),[l,i]),t.jsx(Ue,{...a,...o,ref:r})});Ir.displayName=We;var Ke="PopoverTrigger",Ve=c.forwardRef((e,r)=>{const{__scopePopover:n,...o}=e,s=O(Ke,n),a=$(n),l=S(r,s.triggerRef),i=t.jsx(A.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ge(s.open),...o,ref:l,onClick:_(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:t.jsx(Ue,{asChild:!0,...a,children:i})});Ve.displayName=Ke;var te="PopoverPortal",[$r,Ur]=He(te,{forceMount:void 0}),qe=e=>{const{__scopePopover:r,forceMount:n,children:o,container:s}=e,a=O(te,r);return t.jsx($r,{scope:r,forceMount:n,children:t.jsx(we,{present:n||a.open,children:t.jsx(ze,{asChild:!0,container:s,children:o})})})};qe.displayName=te;var F="PopoverContent",Ye=c.forwardRef((e,r)=>{const n=Ur(F,e.__scopePopover),{forceMount:o=n.forceMount,...s}=e,a=O(F,e.__scopePopover);return t.jsx(we,{present:o||a.open,children:a.modal?t.jsx(Hr,{...s,ref:r}):t.jsx(Br,{...s,ref:r})})});Ye.displayName=F;var zr=Ne("PopoverContent.RemoveScroll"),Hr=c.forwardRef((e,r)=>{const n=O(F,e.__scopePopover),o=c.useRef(null),s=S(r,o),a=c.useRef(!1);return c.useEffect(()=>{const l=o.current;if(l)return Dt(l)},[]),t.jsx(Lt,{as:zr,allowPinchZoom:!0,children:t.jsx(Xe,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),a.current||(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:_(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,d=i.button===2||u;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:_(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Br=c.forwardRef((e,r)=>{const n=O(F,e.__scopePopover),o=c.useRef(!1),s=c.useRef(!1);return t.jsx(Xe,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(o.current||(i=n.triggerRef.current)==null||i.focus(),a.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:a=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Xe=c.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...v}=e,h=O(F,n),x=$(n);return It(),t.jsx(Ae,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:a,children:t.jsx(Ce,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:t.jsx(Fr,{"data-state":Ge(h.open),role:"dialog",id:h.contentId,...x,...v,ref:r,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ze="PopoverClose",Wr=c.forwardRef((e,r)=>{const{__scopePopover:n,...o}=e,s=O(Ze,n);return t.jsx(A.button,{type:"button",...o,ref:r,onClick:_(e.onClick,()=>s.onOpenChange(!1))})});Wr.displayName=Ze;var Kr="PopoverArrow",Vr=c.forwardRef((e,r)=>{const{__scopePopover:n,...o}=e,s=$(n);return t.jsx(Mr,{...s,...o,ref:r})});Vr.displayName=Kr;function Ge(e){return e?"open":"closed"}var qr=Be,Yr=Ve,Xr=qe,Zr=Ye;function Qe({...e}){return t.jsx(qr,{"data-slot":"popover",...e})}function Je({...e}){return t.jsx(Yr,{"data-slot":"popover-trigger",...e})}function et({className:e,align:r="center",sideOffset:n=4,...o}){return t.jsx(Xr,{children:t.jsx(Zr,{"data-slot":"popover-content",align:r,sideOffset:n,className:vt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...o})})}const Gr=({currentTime:e,challenge:r,quote:n,verification:o})=>{var v,h,x,N,p,P,m,b;const[s,a]=c.useState("default"),l=new Blob([new Uint8Array(n.quote_binary)],{type:"application/octet-stream"}),i=V.toBase64(new Uint8Array(((x=(h=(v=n.quote)==null?void 0:v.report_body)==null?void 0:h.mr_enclave)==null?void 0:x.m)??[])),u=V.toBase64(new Uint8Array(((P=(p=(N=n.quote)==null?void 0:N.report_body)==null?void 0:p.mr_signer)==null?void 0:P.m)??[])),d=V.toBase64(new Uint8Array(((b=(m=n.quote)==null?void 0:m.report_body)==null?void 0:b.report_data)??[])),f=()=>{var w,g;switch(s){case"attestation":return t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"pb-2 font-medium flex gap-1 items-center hover:text-accent-foreground hover:cursor-pointer",onClick:()=>a("default"),children:[t.jsx(fe,{className:""}),"Secure hardware attestation"]}),t.jsx("div",{className:"border-t border-t-border -mx-4",children:t.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(q,{className:"size-4 shrink-0 mt-1"}),t.jsxs("div",{className:"flex flex-col text-sm",children:[t.jsx("span",{className:"font-medium",children:"Hardware is up to date"}),t.jsxs("span",{children:[o.quote_verification_result_description,"."," ",t.jsx("a",{href:"https://docs.klave.com/learn/confidential-computing/attestation",className:"text-blue-400 hover:underline flex align-middle items-center",target:"_blank",rel:"noreferrer",children:"Learn more."})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Y,{className:"size-4 shrink-0 mt-1"}),t.jsxs("div",{className:"flex flex-col text-sm overflow-auto whitespace-pre-wrap break-words",children:[t.jsx("span",{className:"font-medium",children:"Image measurements are correct"}),t.jsxs("span",{children:["MR Enclave is",t.jsx("pre",{className:"text-xs p-1 overflow-auto whitespace-pre-wrap break-words border border-border rounded text-gray-400",children:i})]}),t.jsxs("span",{children:["MR Signer is",t.jsx("pre",{className:"text-xs p-1 overflow-auto whitespace-pre-wrap break-words border border-border rounded text-gray-400",children:u})]}),t.jsxs("span",{children:["App Digest is",t.jsx("pre",{className:"text-xs p-1 overflow-auto whitespace-pre-wrap break-words border border-border rounded text-gray-400",children:d})]}),t.jsxs("span",{children:["Challenge",t.jsx("pre",{className:"text-xs p-1 overflow-auto whitespace-pre-wrap break-words border border-border rounded text-gray-400",children:JSON.stringify(r)})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Yt,{className:"size-4 shrink-0 mt-1"}),t.jsxs("div",{className:"flex flex-col text-sm",children:[t.jsx("span",{className:"font-medium",children:"Attestation"}),t.jsxs("a",{download:`intel_quote_${xt}_${e}.bin`,href:URL.createObjectURL(l),className:"text-blue-400 hover:underline flex align-middle items-center",children:["Download Quote .bin"," ",t.jsx(pe,{className:"ml-2 size-4"})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(nr,{className:"size-4 shrink-0 mt-1"}),t.jsxs("div",{className:"flex flex-col text-sm",children:[t.jsx("span",{className:"font-medium",children:"Applicable Security Advisories"}),(g=(w=o.sa_list)==null?void 0:w.split(","))==null?void 0:g.map(E=>t.jsxs("a",{title:E,href:`https://www.intel.com/content/www/us/en/security-center/advisory/${E.toLocaleLowerCase()}.html`,target:"_blank",rel:"noreferrer",className:"text-blue-400 hover:underline flex align-middle items-center",children:[E," ",t.jsx(pe,{className:"ml-2 size-4"})]},E))]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Zt,{className:"size-4 shrink-0 mt-1"}),t.jsxs("div",{className:"flex flex-col text-sm",children:[t.jsx("span",{className:"font-medium",children:"Relying Party"}),"Secretarium DCAP"]})]})]})})]});case"connection":return t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"pb-2 font-medium flex gap-1 items-center hover:text-accent-foreground hover:cursor-pointer",onClick:()=>a("default"),children:[t.jsx(fe,{className:""}),"Connection is secure"]}),t.jsx("div",{className:"border-t border-t-border -mx-4",children:t.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(q,{className:"size-4 shrink-0 mt-1"}),t.jsxs("div",{className:"flex flex-col text-sm",children:[t.jsx("span",{className:"font-medium",children:"Your connection is secure"}),t.jsxs("span",{children:["Your information is private when you use this app, no-one can see your data."," ",t.jsx("a",{href:"https://docs.klave.com/learn/confidential-computing/tee",className:"text-blue-400 hover:underline flex align-middle items-center",target:"_blank",rel:"noreferrer",children:"Learn more."})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(q,{className:"size-4 shrink-0 mt-1"}),t.jsx("div",{className:"flex flex-col text-sm",children:t.jsxs("span",{children:[o.quote_verification_result_description,"."," ",t.jsx("a",{href:"https://docs.klave.com/learn/confidential-computing/attestation",className:"text-blue-400 hover:underline flex align-middle items-center",target:"_blank",rel:"noreferrer",children:"Learn more."})]})})]})]})})]});default:return t.jsxs(t.Fragment,{children:[t.jsx("h4",{className:"pb-2 font-medium",children:"Security"}),t.jsx("div",{className:"border-t border-t-border -mx-4",children:t.jsxs("div",{className:"flex flex-col gap-2 p-2",children:[t.jsxs("span",{className:"p-2 flex gap-1 items-center hover:text-accent-foreground hover:cursor-pointer",onClick:()=>a("connection"),children:[t.jsx(Y,{className:"size-4"}),"Connection is secure",t.jsx(he,{className:"ml-auto"})]}),t.jsxs("span",{className:"p-2 flex gap-1 items-center rounded-md transition-colors hover:bg-accent hover:text-accent-foreground hover:cursor-pointer",onClick:()=>a("attestation"),children:[t.jsx(Vt,{className:"size-4"}),"Secure hardware attestation",t.jsx(he,{className:"ml-auto"})]})]})})]})}};return t.jsxs(Qe,{children:[t.jsx(Je,{asChild:!0,children:t.jsxs(L,{variant:"ghost",className:"hover:cursor-pointer hover:bg-green-200 bg-green-300 border border-green-500",children:[t.jsx(Y,{className:"h-4 w-4"}),"Secured"]})}),t.jsx(et,{className:"flex flex-col w-96 border-green-500",children:f()})]})},cn=({userPrompt:e,setUserPrompt:r,error:n,onSend:o,isDisabled:s,secureButton:a})=>t.jsxs("div",{className:"max-w-3xl w-full mt-auto",children:[n&&t.jsx("p",{className:"bg-red-100 border border-red-500 rounded-xl p-4 text-red-500 text-sm font-semibold mb-2",role:"alert",children:n}),t.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border p-4",children:[t.jsx("textarea",{placeholder:"Ask anything...",className:"flex-1 focus:outline-none resize-none field-sizing-content max-h-80",rows:2,disabled:s,value:e,onChange:l=>r(l.target.value),onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),o())},"aria-label":"User prompt input"}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsxs(Qe,{children:[t.jsx(Je,{asChild:!0,children:t.jsxs(L,{variant:"ghost",className:"hover:cursor-pointer",children:[t.jsx(tr,{className:"h-4 w-4"}),"Add files"]})}),t.jsx(et,{className:"text-center",children:"Feature coming soon!"})]}),t.jsxs(L,{variant:"ghost",className:"hover:cursor-pointer",children:[t.jsx(Jt,{className:"h-4 w-4"}),"Use microphone"]}),t.jsx(L,{variant:"ghost",className:"hover:cursor-pointer",asChild:!0,children:t.jsxs(gt,{to:"/chat/video",search:!0,children:[t.jsx(Ut,{className:"h-4 w-4"}),"Use camera"]})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Gr,{currentTime:a.currentTime,challenge:a.challenge,quote:a.quote,verification:a.verification}),t.jsx(yt,{children:t.jsxs(bt,{children:[t.jsx(wt,{asChild:!0,children:t.jsx(L,{size:"icon",className:"hover:cursor-pointer",onClick:o,disabled:s,children:t.jsx(Ht,{className:"h-4 w-4"})})}),t.jsx(Pt,{children:t.jsx("p",{children:"Send message"})})]})})]})]})]})]});export{cn as C};
