import{q as E,r as s,d as I,C as v,l as S,o as j,p as y,v as c,w as R,x as U,y as w,j as t}from"./index-BYcoJFgG.js";import{C as N}from"./chat-input-DlPdHYA2.js";import"./button-DaZc31o0.js";import"./index-OICOeeHB.js";import"./index-BfnlZZ3t.js";import"./tooltip-D34qDGRE.js";import"./index-DL_SWt5J.js";import"./tslib.es6-BUas5LQb.js";import"./index-qpBqXqUl.js";import"./createLucideIcon-C-2ZzL6n.js";import"./video-CtCtvaKy.js";import"./square-arrow-out-up-right-dxHGDBvv.js";const F=function(){const{currentTime:l,challenge:i,quote:m,verification:p}=E.useLoaderData(),[e,u]=s.useState(""),[d,o]=s.useState(null),x=I(),a=localStorage.getItem(v)??"",h=S(a),g=localStorage.getItem(j)??h[0].name,f=localStorage.getItem(y)??"generate",_=s.useCallback(async()=>{if(!e.trim()){o("Please enter a prompt before sending.");return}o(null);const r=c(),n=`stories_context_${r}`;try{await R({model_name:g,context_name:n,system_prompt:"You are a helpful assistant.",temperature:.8,topp:.9,steps:256,sliding_window:!1,mode:f}),await U({context_name:n,user_prompt:e}),w.createChat(a,r,{id:c(),content:e,role:"user"}),x({to:`/chat/${r}`,search:!0})}catch(C){console.error("Error: ",C),o("Failed to create context")}},[e]);return t.jsxs("div",{className:"flex flex-col items-center h-full",children:[t.jsxs("div",{className:"flex flex-col gap-6 items-center justify-center h-full",children:[t.jsx("h2",{className:"text-2xl md:text-4xl",children:"Welcome to Klave-AI"}),t.jsx("p",{className:"text-center max-w-xl",children:"Introducing Klave-AI â€“ an advanced AI to challenge assumptions, generate ideas and help you think beyond the obvious."})]}),t.jsx(N,{userPrompt:e,setUserPrompt:u,error:d,onSend:_,isDisabled:!1,secureButton:{currentTime:l,challenge:i,quote:m,verification:p}})]})};export{F as component};
